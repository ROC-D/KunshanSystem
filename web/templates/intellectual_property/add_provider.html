{% extends 'base.html' %}

{% block styles %}
    <style>
    </style>
{% endblock %}
{% block title %}管理服务商{% endblock %}
{% block main %}
    <div class="container-fluid">
        <div class="row-cols-md-2"></div>
        <div class="row">
            <div class="col-12 col-xl-8">
                <div class="card">
                    <div class="card-header">
                        <h4>现有服务商信息</h4>
                    </div>
                    <div class="card-body remove-padding">
                        <table class="table">
                            <thead>
                            <tr>
                                <th scope="col">服务商</th>
                                <th scope="col">负责人</th>
                                <th scope="col">联系方式</th>
                            </tr>
                            </thead>
                            <tbody>
                            {% for provider in providers %}
                            <tr>
                                <td contentEditable="true">{{ provider.service_provider_name }}</td>
                                <td>{{ provider.charger_name }}</td>
                                <td>{{ provider.tel }}</td>
                                <td class="text-right">
                                    <div class="dropdown" id="{{ provider.charger_id }}">
                                        <a href="#" class="dropdown-ellipses dropdown-toggle" role="button"
                                           data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            <i class="fe fe-more-vertical"></i>
                                        </a>
                                        <div class="dropdown-menu dropdown-menu-right">
                                            <a href="#!" class="dropdown-item modify_provider">
                                                修改
                                            </a>
                                            <a href="#!" class="dropdown-item text-danger delete_provider">
                                                删除
                                            </a>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="col-12 col-xl-4">
                <div class="card">
                    <div class="card-header">
                        <h4>
                            添加服务商
                        </h4>
                    </div>
                    <div class="card-body" >
                        <form method="post" style="left: 5px" >
                            {{ form.csrf_token }}
                            <div class="form-group">
                                {{ form.company.label }}
                                {{ form.company(class='form-control') }}
                            </div>
                            <div class="form-group">
                                {{ form.charger.label }}
                                {{ form.charger(class='form-control') }}
                            </div>
                            <div class="form-group">
                                {{ form.charger_tel.label }}
                                {{ form.charger_tel(class='form-control') }}
                            </div>
                            {{ form.submit(class='btn btn-primary btn-block') }}
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="modify_provider_modal" tabindex="-1" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">修改服务商信息</h4>
                </div>
                <div class="modal-body">
                    <div class="form-row">
                        <label class="col-4 control-label">服务商名称</label>
                        <div class="col-8">
                            <input type="text" class="form-control" name="company" id="company_modal">
                        </div>
                    </div>
                    <div class="form-row">
                        <label class="col-4 control-label">负责人名称</label>
                        <div class="col-8">
                            <input type="text" class="form-control" name="charger_name" id="charger_name_modal">
                        </div>
                    </div>
                    <div class="form-row">
                        <label class="col-4 control-label">负责人电话</label>
                        <div class="col-8">
                            <input type="text" class="form-control" name="charger_tel" id="charger_tel_modal">
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    <button type="submit" id="submit_modify_provider" class="btn btn-primary">提交更改</button>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/dropzone.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/intellectual_property/manage_provider.js') }}"></script>
<script type="text/javascript">
</script>
{% endblock %}

